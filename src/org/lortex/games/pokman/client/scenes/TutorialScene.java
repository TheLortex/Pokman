fd2080baf3}#vwifimp#5&e439264&1&03#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{cc20e513-a106-4034-b91d-ba706a1a7878})
15:06:38 [usb||E] usb_utility+72: Invalid dbcc_name = (\\?\{5d624f94-8850-40c3-a3fa-a4fd2080baf3}#vwifimp#5&e439264&1&04#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{021584d5-4688-434a-8240-491ee3802c8f})
15:06:39 [usb||I] thread+508: (8004) - \\?\pci#ven_1969&dev_e091&subsys_10bc1462&rev_13#4&235f433d&0&00e0#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{75d4da89-69bb-4ecd-ad64-41f24c1d2b40}
15:06:39 [usb||I] thread+508: (8004) - \\?\pci#ven_8086&dev_0887&subsys_40628086&rev_c4#4&376a478a&0&00e2#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{50eabc70-ef92-4703-ada3-d299d08031e9}
15:06:39 [usb||I] thread+508: (8000) - \\?\pci#ven_1969&dev_e091&subsys_10bc1462&rev_13#4&235f433d&0&00e0#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{75d4da89-69bb-4ecd-ad64-41f24c1d2b40}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#*6to4mp#0000#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{e4619514-50f4-4cd8-928f-d9b67cde2eda}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#*isatap#0000#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{4f467aed-1015-4844-adc8-99dd15e51557}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#*isatap#0003#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{0b88d8d2-58bc-4391-96b6-4c275758a117}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#*isatap#0005#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{cd61ee61-cb36-425d-8c24-4544c14e03ea}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#*isatap#0002#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{d74db5d7-e1b9-4685-99f9-9ba602da8abd}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#*isatap#0006#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{2971161e-840f-4327-a49d-9c0f172827ea}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#*isatap#0008#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{72edfda4-d9b7-43e9-9a30-683a5aa8cc47}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#*isatap#0012#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{ff3aba69-be21-4bfe-b66f-6970c0b61f1d}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#*isatap#0007#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{e67aedc6-69e6-4ac6-8f18-f6545bea6bf7}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#*isatap#0009#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{49828869-850a-4f71-9432-01d3c5d380b4}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#*teredo#0000#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{834881c7-58cb-4cf5-a999-db3667f1738b}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#ms_ndiswanbh#0000#{ad498944-762f-11d0-8dcb-00c04fc3358c}\ndiswanbh
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#ms_ndiswanip#0000#{ad498944-762f-11d0-8dcb-00c04fc3358c}\ndiswanip
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#ms_ndiswanipv6#0000#{ad498944-762f-11d0-8dcb-00c04fc3358c}\ndiswanipv6
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#ms_agilevpnminiport#0000#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{29898c9d-b0a4-4fef-bdb6-57a562022cee}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#ms_l2tpminiport#0000#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{e43d242b-9eab-4626-a952-46649fbb939a}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#*isatap#0004#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{f89fd157-80c0-48be-bb8f-ca984fa3f965}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#ms_pptpminiport#0000#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{df4a9d2c-8742-4eb1-8703-d395c4183f33}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\pci#ven_8086&dev_0887&subsys_40628086&rev_c4#4&376a478a&0&00e2#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{50eabc70-ef92-4703-ada3-d299d08031e9}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#ms_pppoeminiport#0000#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{8e301a52-affa-4f49-b9ca-c79096a1a056}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#ms_sstpminiport#0000#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{71f897d7-eb7c-4d8d-89db-ac80d9dd2270}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:39 [usb||I] thread+508: (8000) - \\?\root#net#0001#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{ca83f553-209b-4e9d-b046-dea3af19192d}
15:06:39 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:39 [usb||E] usb_utility+859: Failed to get parent hub
15:06:40 [usb||I] thread+508: (8000) - \\?\root#net#0002#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{a470eb43-11c4-4905-a0d1-52c42fdcdb96}
15:06:40 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:40 [usb||E] usb_utility+859: Failed to get parent hub
15:06:40 [usb||I] thread+508: (8000) - \\?\root#net#0005#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{5401fdaf-5d82-461b-a28d-07e94901cc8c}
15:06:40 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:40 [usb||E] usb_utility+859: Failed to get parent hub
15:06:40 [usb||I] thread+508: (8000) - \\?\sw#{eeab7790-c514-11d1-b42b-00805fc1270e}#asyncmac#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{78032b7e-4968-42d3-9f37-287ea86c0aaa}
15:06:40 [usb||E] usb_utility+142: Failed to locate given device node. Error = (30)
15:06:40 [usb||E] usb_utility+859: Failed to get parent hub
15:06:40 [usb||E] usb_utility+72: Invalid dbcc_name = (\\?\{5d624f94-8850-40c3-a3fa-a4fd2080baf3}#vwifimp#5&e439264&1&03#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{cc20e513-a106-4034-b91d-ba706a1a7878})
15:06:40 [usb||E] usb_utility+72: Invalid dbcc_name = (\\?\{5d624f94-8850-40c3-a3fa-a4fd2080baf3}#vwifimp#5&e439264&1&04#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{021584d5-4688-434a-8240-491ee3802c8f})
15:06:40 [usb||I] thread+508: (8000) - \\?\root#sun_vboxnetfltmp#0000#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{03144f00-dad0-4802-89fc-66c6701c8f71}
15:06:40 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:40 [usb||E] usb_utility+859: Failed to get parent hub
15:06:40 [usb||I] thread+508: (8000) - \\?\root#sun_vboxnetfltmp#0004#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{4d5ab9df-bc83-4cfb-8965-2a2bbdb1317f}
15:06:40 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:40 [usb||E] usb_utility+859: Failed to get parent hub
15:06:40 [usb||I] thread+508: (8000) - \\?\root#sun_vboxnetfltmp#0005#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{d24587d8-fb25-430f-ac06-8d7857b6ea3e}
15:06:40 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:40 [usb||E] usb_utility+859: Failed to get parent hub
15:06:40 [usb||I] thread+508: (8000) - \\?\root#sun_vboxnetfltmp#0013#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{c152d9b6-93dd-4fa9-9342-b103f13ffb9f}
15:06:40 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:40 [usb||E] usb_utility+859: Failed to get parent hub
15:06:40 [usb||I] thread+508: (8000) - \\?\root#sun_vboxnetfltmp#0006#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{f3383e8e-2d7b-44ab-a277-2940aae644ae}
15:06:40 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:40 [usb||E] usb_utility+859: Failed to get parent hub
15:06:40 [usb||I] thread+508: (8000) - \\?\root#sun_vboxnetfltmp#0011#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{be02ab2b-fbdd-4191-a462-eb096fa385e1}
15:06:40 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:40 [usb||E] usb_utility+859: Failed to get parent hub
15:06:50 [usb||I] thread+508: (8000) - \\?\root#sun_vboxnetfltmp#0014#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{7e58048b-87e3-4626-9ced-85b85483415c}
15:06:50 [usb||E] usb_utility+208: Failed to get parent hub symbolic name LastError = (0)
15:06:50 [usb||E] usb_utility+859: Failed to get parent hub
15:06:50 [usb||I] thread+508: (8004) - \\?\sw#{eeab7790-c514-11d1-b42b-00805fc1270e}#asyncmac#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{78032b7e-4968-42d3-9f37-287ea86c0aaa}
15:10:31 [usb||I] thread+508: (8004) - \\?\root#*isatap#0002#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{d74db5d7-e1b9-4685-99f9-9ba602da8abd}
15:10:32 [usb||I] thread+508: (8004) - \\?\root#*isatap#0000#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{4f467aed-1015-4844-adc8-99dd15e51557}
15:10:32 [usb||I] thread+508: (8004) - \\?\root#*6to4mp#0000#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{e4619514-50f4-4cd8-928f-d9b67cde2eda}
15:10:32 [usb||I] thread+508: (8004) - \\?\root#*isatap#0003#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{0b88d8d2-58bc-4391-96b6-4c275758a117}
15:10:32 [usb||I] thread+508: (8004) - \\?\root#*isatap#0005#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{cd61ee61-cb36-425d-8c24-4544c14e03ea}
15:10:32 [usb||I] thread+508: (8004) - \\?\root#*isatap#0007#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{e67aedc6-69e6-4ac6-8f18-f6545bea6bf7}
15:10:32 [usb||I] thread+508: (8004) - \\?\root#*isatap#0008#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{72edfda4-d9b7-43e9-9a30-683a5aa8cc47}
15:10:32 [usb||I] thread+508: (8004) - \\?\root#*isatap#0009#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{49828869-850a-4f71-9432-01d3c5d380b4}
15:10:32 [usb||I] thread+508: (8004) - \\?\root#*isatap#0012#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{ff3aba69-be21-4bfe-b66f-6970c0b61f1d}
15:10:32 [usb||I] thread+508: (8004) - \\?\root#*teredo#0000#{ad498944-762f-11d0-8dcb-00c04fc3358c}\{834881c7-58cb-4cf5-a999-db3667f1738b}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      n(mPacmanTextureRegion);
							}
	    				}, 150);
					}
				}
			
				
				if((points.isEmpty())&&(!allPointsEatenToast)) {
					mContext.toastOnUiThread("Bien joué!");
					allPointsEatenToast=true;
				}
			}	

			@Override
			public void reset() {}
		});
		
		pagination = new Paginator(20, 20, SceneManagerActivity.getWidth(mContext)-40, 15, 5, 1, mContext.getVertexBufferObjectManager());
		mHUD.attachChild(pagination);
	}
	
	@Override
	public Scene getScene() {
		return mScene;
	}

	@Override
	public void onResume() {
		sensorManager.registerListener(this, accelerometer, SensorManager.SENSOR_DELAY_GAME);
		
	}

	@Override
	public void onPause() {
		sensorManager.unregisterListener(this, accelerometer);
	}

	@Override
	public void onBackPressed() {
		mContext.setScene(new NewMenuScene(mContext));
	};
	
	@Override
	public void onDestroyScene() {
		mCamera.setHUD(null);
		mScene.detachChildren();
		//TODO: unload textures
		mCamera.setCenterDirect(mContext.getWidth()/2f, SceneManagerActivity.getHeight()/2f);
	}
	
	private void updateGravity() {
		for(int i=1;i<=nPages;i++) {
			if(i==currentPage) {
				for(int b=0;b<bodies.get(i).size();b++) {
					boolean flag=false;
					for(int k=0;k<ghostBodies.size()&&!flag;k++) {
						if(bodies.get(i).get(b)==ghostBodies.get(k)) {
							bodies.get(i).get(b).setActive(true);
							flag = true;
						}
					}
					
					if(!flag)
						bodies.get(i).get(b).setActive(true);
				}
			}else {
				for(int b=0;b<bodies.get(i).size();b++) {
					bodies.get(i).get(b).setActive(false);
				}
			}
		}
	}
	
	private void drawStep1(float offsetX) {
		Text title = new Text(0,SceneManagerActivity.getHeight()-100,font.get(60, Color.WHITE),mContext.getResources().getStringArray(R.array.tuto_1)[0],mContext.getVertexBufferObjectManager());
		title.setX(offsetX);
		
		Text text1 = new Text(0,0,font.get(30, Color.WHITE),mContext.getResources().getStringArray(R.array.tuto_1)[1],mContext.getVertexBufferObjectManager());
		text1.setX(offsetX);
		text1.setY(200);
		Text text2 = new Text(0,0,font.get(30, Color.WHITE),mContext.getResources().getStringArray(R.array.tuto_1)[2],mContext.getVertexBufferObjectManager());
		text2.setX(offsetX);
		text2.setY(150);

		Element mur = Element.WALL;
		Element pac = Element.SPAWNPAC;
		Element vid = Element.EMPTY;
		
		Element map[][] =  {{mur,mur,mur,mur,mur,mur,mur},
							{mur,vid,vid,vid,vid,vid,mur},
							{mur,vid,vid,vid,vid,vid,mur},
							{mur,vid,vid,pac,vid,vid,mur},
							{mur,vid,vid,vid,vid,vid,mur},
							{mur,vid,vid,vid,vid,vid,mur},
							{mur,mur,mur,mur,mur,mur,mur}};
		
		mazeGen.customMap(map);
		
		drawMaze(1);
		
		mScene.attachChild(title);
		mScene.attachChild(text1);
		mScene.attachChild(text2);
	}


	private void drawStep2(float offsetX) {
		Text title = new Text(0,SceneManagerActivity.getHeight()-100,font.get(60, Color.WHITE),mContext.getResources().getStringArray(R.array.tuto_2)[0],mContext.getVertexBufferObjectManager());
		title.setX(offsetX);
		
		Text text1 = new Text(0,0,font.get(30, Color.WHITE),mContext.getResources().getStringArray(R.array.tuto_2)[1],mContext.getVertexBufferObjectManager());
		text1.setX(offsetX);
		text1.setY(200);
		Text text2 = new Text(0,0,font.get(30, Color.WHITE),mContext.getResources().getStringArray(R.array.tuto_2)[2],mContext.getVertexBufferObjectManager());
		text2.setX(offsetX);
		text2.setY(150);

		Element mur = Element.WALL;
		Element pac = Element.SPAWNPAC;
		Element pts = Element.POINT;
		
		Element map[][] =  {{mur,mur,mur,mur,mur,mur,mur},
							{mur,pts,pts,pts,pts,pts,mur},
							{mur,pts,pts,pts,pts,pts,mur},
							{mur,pts,pts,pac,pts,pts,mur},
							{mur,pts,pts,pts,pts,pts,mur},
							{mur,pts,pts,pts,pts,pts,mur},
							{mur,mur,mur,mur,mur,mur,mur}};
		
		mazeGen.customMap(map);
		
		drawMaze(2);
		
		mScene.attachChild(title);
		mScene.attachChild(text1);
		mScene.attachChild(text2);
	}
	
	private void drawStep3(float offsetX) {
		Text title = new Text(0,SceneManagerActivity.getHeight()-100,font.get(60, Color.WHITE),mContext.getResources().getStringArray(R.array.tuto_3)[0],mContext.getVertexBufferObjectManager());
		title.setX(offsetX);
		
		Text text1 = new Text(0,0,font.get(30, Color.WHITE),mContext.getResources().getStringArray(R.array.tuto_3)[1],mContext.getVertexBufferObjectManager());
		text1.setX(offsetX);
		text1.setY(200);
		Text text2 = new Text(0,0,font.get(30, Color.WHITE),mContext.getResources().getStringArray(R.array.tuto_3)[2],mContext.getVertexBufferObjectManager());
		text2.setX(offsetX);
		text2.setY(150);

		Element mur = Element.WALL;
		Element pac = Element.SPAWNPAC;
		Element vid = Element.EMPTY;
		Element gst = Element.SPAWNGHOST;
		
		Element map[][] =  {{mur,mur,mur,mur,mur,mur,mur},
				{mur,vid,vid,gst,vid,vid,mur},
				{mur,vid,vid,vid,vid,vid,mur},
				{mur,vid,vid,vid,vid,vid,mur},
				{mur,vid,vid,vid,vid,vid,mur},
				{mur,vid,vid,pac,vid,vid,mur},
				{mur,mur,mur,mur,mur,mur,mur}};
		
		mazeGen.customMap(map);
		
		drawMaze(3);
		
		mScene.attachChild(title);
		mScene.attachChild(text1);
		mScene.attachChild(text2);
	}
	
	private void drawStep4(float offsetX) {
		Text title = new Text(0,SceneManagerActivity.getHeight()-100,font.get(60, Color.WHITE),mContext.getResources().getStringArray(R.array.tuto_4)[0],mContext.getVertexBufferObjectManager());
		title.setX(offsetX);
		
		Text text1 = new Text(0,0,font.get(30, Color.WHITE),mContext.getResources().getStringArray(R.array.tuto_4)[1],mContext.getVertexBufferObjectManager());
		text1.setX(offsetX);
		text1.setY(200);
		Text text2 = new Text(0,0,font.get(30, Color.WHITE),mContext.getResources().getStringArray(R.array.tuto_4)[2],mContext.getVertexBufferObjectManager());
		text2.setX(offsetX);
		text2.setY(150);

		Element mur = Element.WALL;
		Element pac = Element.SPAWNPAC;
		Element vid = Element.EMPTY;
		Element gst = Element.SPAWNGHOST;
		Element bns = Element.BONUS;
		
		Element map[][] =  {{mur,mur,mur,mur,mur,mur,mur},
				{mur,vid,vid,gst,vid,vid,mur},
				{mur,vid,vid,vid,vid,vid,mur},
				{mur,vid,vid,bns,vid,vid,mur},
				{mur,vid,vid,vid,vid,vid,mur},
				{mur,vid,vid,pac,vid,vid,mur},
				{mur,mur,mur,mur,mur,mur,mur}};
		
		mazeGen.customMap(map);
		
		drawMaze(4);
		
		mScene.attachChild(title);
		mScene.attachChild(text1);
		mScene.attachChild(text2);
	}
	
	private void drawStep5(float offsetX) {
		Text title = new Text(0,SceneManagerActivity.getHeight()-100,font.get(60, Color.WHITE),mContext.getResources().getStringArray(R.array.tuto_5)[0],mContext.getVertexBufferObjectManager());
		title.setX(offsetX);
		
		Text text1 = new Text(0,0,font.get(30, Color.WHITE),mContext.getResources().getStringArray(R.array.tuto_5)[1],mContext.getVertexBufferObjectManager());
		text1.setX(offsetX);
		text1.setY(200);
		Text text2 = new Text(0,0,font.get(30, Color.WHITE),mContext.getResources().getStringArray(R.array.tuto_5)[2],mContext.getVertexBufferObjectManager());
		text2.setX(offsetX);
		text2.setY(150);

		playText = new Text(0,0,font.get(70, Color.WHITE),mContext.getResources().getString(R.string.startgame),mContext.getVertexBufferObjectManager()) {
			@Override
		    public boolean onAreaTouched(TouchEvent pSceneTouchEvent, float pTouchAreaLocalX, float pTouchAreaLocalY) {
				if ((pSceneTouchEvent.isActionDown())||(pSceneTouchEvent.isActionMove()))
		        	this.setColor(1f,1f,0f);
		        else if(pSceneTouchEvent.isActionUp()) {

					mContext.getAchievementsManager().setRush(true);
					mContext.getAchievementsManager().setMaster(true);
					
		    		GameMode gm = new GameMode(GameMode.SINGLEPLAYER, 1);
		    		mContext.setScene(new GameScene(mContext, gm, true, "127.0.0.1", 0));
					
		        	this.setColor(1f,1f,1f);
		        }
		        return true;
		    }
		};
		playText.setX(offsetX);
		playText.setY(SceneManagerActivity.getHeight()/2f);

		
		mScene.attachChild(title);
		mScene.attachChild(text1);
		mScene.attachChild(text2);
		
		mScene.attachChild(playText);
		mScene.registerTouchArea(playText);
	}

	private void drawMaze(int page) {
		int mazeWidth = 7*40;
		
		CustomColorShaderProgram theShaderProgram = new CustomColorShaderProgram();
		int offsetX = (int) (SceneManagerActivity.getWidth(mContext)*(page-1) + SceneManagerActivity.getWidth(mContext)/2f - mazeWidth/2f);
		for(int y=0;y<7;y++) {
			for(int x=0;x<7;x++) {
				if(mazeGen.value(x, y) == Element.SPAWNPAC){
					Rectangle pacspwn = new Rectangle(offsetX + x*40, 600+y*40,40, 40,mContext.getVertexBufferObjectManager());
					pacspwn.setColor(0.1f,0.1f,0.1f);
					mScene.attachChild(pacspwn);

					Body pacman = createPacman(mScene,offsetX + x*40, 600+y*40);
					bodies.get(page).add(pacman);
					pacmanBodies.add(pacman);
					
					pacman.setActive(false);
				} else if(mazeGen.value(x, y) == Element.POINT) {
					addPoint(mScene,offsetX + x*40, 600+y*40);
				} else if(mazeGen.value(x, y) == Element.BONUS) {
					addBonusPoint(mScene,offsetX + x*40, 600+y*40);
				}else if(mazeGen.value(x, y) == Element.SPAWNGHOST) {
					Sprite ghostSprite = new Sprite(offsetX+x*40,600+ y*40,mRedGhostTextureRegion,mContext.getVertexBufferObjectManager());
					ghostSprite.setZIndex(42);
					Body curBody = createGhostBody(mScene,ghostSprite);
					bodies.get(page).add(curBody);
					ghostBodies.add(curBody);
					ghostSprites.add(ghostSprite);
					
					
				} else if(mazeGen.value(x, y) == Element.WALL) {
					Sprite wall = tileMapper.getWallSprite(offsetX + x*40 - 20, 600+y*40,x,y);
					PhysicsFactory.createBoxBody(this.mPhysicsWorld, wall, BodyType.StaticBody, wallFixtureDef);

					wall.setShaderProgram(theShaderProgram);
					mScene.attachChild(wall);
				}
			}
		}
	}
	
	private Body createPacman(Scene mScene2, int x, int y) {
		Sprite pacmanSprite = new Sprite(x, y,this.mPacmanTextureRegion,mContext.getVertexBufferObjectManager());
		pacmanSprite.setZIndex(42);
		FixtureDef objectFixtureDef = PhysicsFactory.createFixtureDef(1f, 0, 0.2f);
		objectFixtureDef.filter.categoryBits= CATEGORY_PACMAN;
		objectFixtureDef.filter.maskBits= CATEGORY_GHOST | CATEGORY_SCENERY;
		pacmanSprites.add(pacmanSprite);
		
		final Body body = PhysicsFactory.createCircleBody(this.mPhysicsWorld, pacmanSprite, BodyType.DynamicBody, objectFixtureDef);
		
        this.mPhysicsWorld.registerPhysicsConnector(new PhysicsConnector(pacmanSprite, body, true, true));
        
        pacmanSprite.setUserData(body);
        
        mScene.registerTouchArea(pacmanSprite);
        mScene.attachChild(pacmanSprite);
		return body;
	}
	

	private Body createGhostBody(Scene scene,Sprite ghostSprite) {
		final FixtureDef ghostFixtureDef = PhysicsFactory.createFixtureDef(1f, 0, 0.1f);
		ghostFixtureDef.filter.categoryBits = CATEGORY_GHOST;
		ghostFixtureDef.filter.maskBits= CATEGORY_GHOST | CATEGORY_PACMAN | CATEGORY_SCENERY;
		 
		Body body = PhysicsFactory.createCircleBody(this.mPhysicsWorld, ghostSprite, BodyType.DynamicBody, ghostFixtureDef);
		
        this.mPhysicsWorld.registerPhysicsConnector(new PhysicsConnector(ghostSprite, body, true, true));
        
        body.setActive(false);
        
        ghostSprite.setUserData(body);

        scene.registerTouchArea(ghostSprite);
		scene.attachChild(ghostSprite);
		
		return body;
	}
	
	private void addPoint(Scene scene,int x, int y) {
		Sprite point = new Sprite(x-mPointTextureRegion.getWidth()/2, y-mPointTextureRegion.getHeight()/2,this.mPointTextureRegion,mContext.getVertexBufferObjectManager());
		point.setZIndex(0);
		points.add(point);

		
		scene.attachChild(point);
	}
	
	private void addBonusPoint(Scene scene,int x, int y) {
		Sprite point = new Sprite(x-mBonusPointTextureRegion.getWidth()/2, y-mBonusPointTextureRegion.getHeight()/2,this.mBonusPointTextureRegion,mContext.getVertexBufferObjectManager());
		point.setZIndex(0);
		
		bonus_points.add(point);
        scene.registerTouchArea(point);
		scene.attachChild(point);
	}
	
	@Override
	public void onAccuracyChanged(Sensor arg0, int arg1) {}

	@Override
	public void onSensorChanged(SensorEvent event) {
		if (event.sensor.getType() == Sensor.TYPE_ACCELEROMETER) {
			Display display = ((WindowManager) mContext.getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();
			int orientation = display.getRotation();
			
			rawValues[0] = event.values[0];
			rawValues[1] = event.values[1];
			
			realValues[0] = 0f;
			realValues[1] = 0f;
			
			canonicalToScreenOrientation(orientation,rawValues,realValues);
	
			float x = realValues[0];
			float y = realValues[1];
			
			gravity.set(-x, -y);
			gravity.mul(5);
			
		
			this.mPhysicsWorld.setGravity(gravity);
		}
	}
	static void canonicalToScreenOrientation(int displayRotation, float[] canVec, float[] screenVec) 
	{ 
	    as = axisSwap[displayRotation]; 
	    screenVec[0]  =  (float)as[0] * canVec[ as[2] ]; 
	    screenVec[1]  =  (float)as[1] * canVec[ as[3] ]; 
	} 
}
